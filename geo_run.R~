#source('geo_estimation_2.R')
#source('geo_estimation.R')


#source('geo_estimate_03b.R')
#source('geo_estimate_03.R')

STAN_GEO_DIR = 'stan_geo_files'
STAN_GEO_PLOT_DIR = 'geo_plots'

source('geo_plot.R')
print('plots 1')
pg1 = plot_geo(
  data1,#file.path(STAN_GEO_DIR,'geo_estimate_01_v3.RDS'),
  name='wo2d',
  name_nice = 'model w/o 2nd derivative penalty',
  directory=file.path(STAN_GEO_PLOT_DIR,'est_wo_2d'),
  skip3d=T
)

print('plots 2')
pg2 = plot_geo(
  data2,#file.path(STAN_GEO_DIR,'geo_estimate_02_02_v3_mtd6.RDS'),
  name='w2d',
  name_nice= 'model with 2nd & 3rd derivative penalty',
  directory=file.path(STAN_GEO_PLOT_DIR,'est_w_2d'),
  skip3d=TRUE
)

anim_plt <- plot_animated_walk(path_data,'basic_grid',STAN_GEO_PLOT_DIR,height=840,width=840,res=200)

data1=readRDS(file.path(STAN_GEO_DIR,'geo_estimate_01_v3.RDS'))
data2=readRDS(file.path(STAN_GEO_DIR,'geo_estimate_02_02_v3_mtd6.RDS'))

plot_compare(
  data1,#file.path(STAN_GEO_DIR,'geo_estimate_01_v3.RDS'),
  data2,#file.path(STAN_GEO_DIR,'geo_estimate_02_02_v3_mtd6.RDS')
  directory=file.path(STAN_GEO_PLOT_DIR,'comparison'),
  path_data=path_data,
  name='c1v23',
  skip3d=TRUE
)
